!function(){return function e(r,t,o){function n(s,a){if(!t[s]){if(!r[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var c=t[s]={exports:{}};r[s][0].call(c.exports,function(e){return n(r[s][1][e]||e)},c,c.exports,e,r,t,o)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}}()({1:[function(e,r,t){var o=e("./node_modules/gjtk");window.OpenFusion={error:function(e){var r;switch(e){case"malformed":r="The specified OpenFusion GeoJSON is malformed.";break;case"unsupported":r="Only OpenFusion v3 and above is supported";break;default:r="A problem occurred in the OpenFusion preprocessor."}console.error(r)},map:function(e,r,t){o.isFeatureCollection(e)?o.featuresOf(e).map(function(e){"function"==typeof r&&r(e);var n=e.properties.related;o.isFeatureCollection(n)?"function"==typeof t&&n.features.forEach(t):null!=n&&OpenFusion.error("malformed")}):OpenFusion.error("malformed")},plain:{preprocessor:function(e){switch(e.OpenFusion){case"1":case"2":OpenFusion.error("unsupported");default:return e;case"3":case"4":case"5":return e}return e}},spatial:{epicenterProcessor:function(e){e.properties.marker="Marker"},aftershockProcessor:function(e){var r=e.properties;r.marker="CircleMarker",r.markerOptions=JSON.parse(JSON.stringify({stroke:!0,color:"#000",weight:4,opacity:1,fill:!0,fillColor:"#5Af",fillOpacity:.8,dashArray:null,lineCap:null,lineJoin:null,clickable:!0,pointerEvents:null,className:"",radius:8})),"string"==typeof r.image&&(r.markerOptions.fillColor="#E79")},preprocessor:function(e){switch(e.OpenFusion){case"1":case"2":OpenFusion.error("unsupported");default:return e;case"3":case"4":case"5":OpenFusion.map(e,OpenFusion.spatial.epicenterProcessor,OpenFusion.spatial.aftershockProcessor)}}}}},{"./node_modules/gjtk":2}],2:[function(e,r,t){var o=e("point-in-polygon"),n=e("uri-js"),i=r.exports={isPosition:function(e){return Array.isArray(e)&&e.length>1&&e.every(function(e){return"number"==typeof e})},isPointCoordinates:function(e){return i.isPosition(e)},isMultiPointCoordinates:function(e){return Array.isArray(e)&&e.every(i.isPosition)},isLineStringCoordinates:function(e){return Array.isArray(e)&&e.length>1&&i.isMultiPointCoordinates(e)},isLinearRingCoordinates:function(e){return Array.isArray(e)&&e.length>3&&i.isLineStringCoordinates(e)&&i.equalPositions(e[0],e[e.length-1])},isMultiLineStringCoordinates:function(e){return Array.isArray(e)&&e.every(i.isLineStringCoordinates)},isPolygonCoordinates:function(e){return Array.isArray(e)&&e.every(i.isLinearRingCoordinates)&&e.every(function(e,r,t){return 0==r||i.containedPolygon(e,t[0])})},isMultiPolygonCoordinates:function(e){return Array.isArray(e)&&e.every(i.isPolygonCoordinates)},validCRS:function(e){return null!=e&&(void 0===e.crs||null===e.crs||i.isCRS(e.crs))},validBbox:function(e){return null!=e&&(void 0===e.bbox||Array.isArray(e.bbox)&&e.bbox.length%2==0&&!0)},isLink:function(e){return null!=e&&null!=e.properties&&"string"==typeof e.properties.href&&n.parse(e.properties.href).errors.length<1&&(void 0===e.properties.type||"string"==typeof e.properties.type&&e.properties.type.length>0)},isCRS:function(e){return null!=e&&("name"===e.type&&null!=e.properties&&"string"==typeof e.properties.name&&e.properties.name.length>0||"link"===e.type&&i.isLink(e.properties))},isPoint:function(e){return null!=e&&"Point"===e.type&&i.isPointCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isMultiPoint:function(e){return null!=e&&"MultiPoint"===e.type&&i.isMultiPointCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isLineString:function(e){return null!=e&&"LineString"===e.type&&i.isLineStringCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isMultiLineString:function(e){return null!=e&&"MultiLineString"===e.type&&i.isMultiLineStringCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isPolygon:function(e){return null!=e&&"Polygon"===e.type&&i.isPolygonCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isMultiPolygon:function(e){return null!=e&&"MultiPolygon"===e.type&&i.isMultiPolygonCoordinates(e.coordinates)&&i.validCRS(e)&&i.validBbox(e)},isGeometryCollection:function(e){return null!=e&&"GeometryCollection"===e.type&&Array.isArray(e.geometries)&&e.geometries.every(i.isGeometry)&&i.validCRS(e)&&i.validBbox(e)},isFeature:function(e){return null!=e&&"Feature"===e.type&&"object"==typeof e.properties&&i.validCRS(e)&&i.validBbox(e)&&(null===e.geometry||i.isGeometry(e.geometry))},isFeatureCollection:function(e){return null!=e&&"FeatureCollection"===e.type&&Array.isArray(e.features)&&e.features.every(i.isFeature)&&i.validCRS(e)&&i.validBbox(e)},isGeometry:function(e){return i.isPoint(e)||i.isMultiPoint(e)||i.isLineString(e)||i.isMultiLineString(e)||i.isPolygon(e)||i.isMultiPolygon(e)||i.isGeometryCollection(e)},isGeoJSON:function(e){return i.isGeometry(e)||i.isFeature(e)||i.isFeatureCollection(e)},equalPositions:function(e,r){return i.isPosition(e)&&i.isPosition(r)&&e.length==r.length&&e.every(function(t,o){return e[o]==r[o]})},containedPolygon:function(e,r){return e.every(function(e){return o(e,r)})},Point:function(e,r,t){var o=null;return"number"==typeof r&&"number"==typeof e&&(o={type:"Point",coordinates:[r,e]},"number"==typeof t&&o.coordinates.push(t)),o},Feature:function(e,r){var t={type:"Feature",geometry:null,properties:"object"==typeof r?r:{}};return i.isGeometry(e)&&(t.geometry=e),t},FeatureCollection:function(e){var r={type:"FeatureCollection",features:[]};return i.isFeature(e)?r.features.push(e):Array.isArray(e)&&e.forEach(function(e){i.isFeature(e)&&r.features.push(e)}),r},GeometryCollection:function(e){var r={type:"GeometryCollection",geometries:[]};return i.isGeometry(e)?r.geometries.push(e):Array.isArray(e)&&e.forEach(function(e){i.isGeometry(e)&&r.geometries.push(e)}),r},positionsOf:function(e){var r=[],t=function(e){e.forEach(function(e){r.push(e)})},o=function(e){e.forEach(t)};switch(e.type){case"Point":r.push(e.coordinates);break;case"MultiPoint":case"LineString":t(e.coordinates);break;case"MultiLineString":case"Polygon":o(e.coordinates);break;case"MultiPolygon":e.coordinates.forEach(o);break;case"GeometryCollection":t(i.positionsOf(e.geometries));break;case"Feature":t(i.positionsOf(e.geometry));break;case"FeatureCollection":e.features.forEach(function(e){t(i.positionsOf(e.geometry))})}return r},featuresOf:function(e){var r=[];switch(e.type){case"Feature":r.push(e);break;case"FeatureCollection":e.features.forEach(function(e){i.featuresOf(e).forEach(function(e){r.push(e)})})}return r},geometriesOf:function(e){var r=[],t=function(e){i.geometriesOf(e.geometry).forEach(function(e){r.push(e)})};switch(e.type){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":r.push(e);break;case"GeometryCollection":e.geometries.forEach(function(e){i.geometriesOf(e).forEach(function(e){r.push(e)})});break;case"Feature":t(e);break;case"FeatureCollection":e.features.forEach(t)}return r}}},{"point-in-polygon":3,"uri-js":7}],3:[function(e,r,t){r.exports=function(e,r){for(var t=e[0],o=e[1],n=!1,i=0,s=r.length-1;i<r.length;s=i++){var a=r[i][0],u=r[i][1],p=r[s][0],c=r[s][1];u>o!=c>o&&t<(p-a)*(o-u)/(c-u)+a&&(n=!n)}return n}},{}],4:[function(e,r,t){e("./schemes/http"),e("./schemes/urn")},{"./schemes/http":5,"./schemes/urn":6}],5:[function(e,r,t){e("../uri").URI.SCHEMES.http={serialize:function(e,r){return 80!==e.port&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}}},{"../uri":7}],6:[function(e,r,t){!function(){var r=e("../uri"),t=r.URI,o=r.pctEncChar,n="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",i=new RegExp("^urn\\:("+n+")$"),s=new RegExp("^("+n+")\\:((?:(?:(?:\\%[0-9A-Fa-f]{2})|[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#])+))$"),a=/^([^\:]+)\:(.*)/,u=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,p=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;t.SCHEMES.urn={parse:function(e,r){var o,n,i=e.path.match(s);return i||(r.tolerant||e.errors.push("URN is not strictly valid."),i=e.path.match(a)),i?(o="urn:"+i[1].toLowerCase(),(n=t.SCHEMES[o])||(n=t.SCHEMES[o]={}),n.serialize||(n.serialize=t.SCHEMES.urn.serialize),e.scheme=o,e.path=i[2],n.parse&&n.parse(e,r)):e.errors.push("URN can not be parsed."),e},serialize:function(e,r){var t,n=e.scheme||r.scheme;n&&"urn"!==n&&((t=n.match(i))||(t=["urn:"+n,n]),e.scheme="urn",e.path=t[1]+":"+(e.path?e.path.replace(u,o):""));return e}},t.SCHEMES["urn:uuid"]={parse:function(e,r){r.tolerant||e.path&&e.path.match(p)||e.errors.push("UUID is not valid.")},serialize:function(e,r){return r.tolerant||e.path&&e.path.match(p)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,t.SCHEMES.urn.serialize(e,r)}}}()},{"../uri":7}],7:[function(e,r,t){void 0===t&&(t={}),"function"!=typeof e&&(e=function(e){"use strict";return t}),URI=function(){"use strict";var r=function(e){for(var r=e,t=1,o=arguments[t];o;)r=r.slice(0,-1)+o.slice(1),o=arguments[++t];return r},o=function(e){return"(?:"+e+")"},n=r("[0-9]","[A-Fa-f]"),i=o("%"+n+n),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=r("[\\:\\/\\?\\#\\[\\]\\@]",s),u=r("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]"),p=o("[A-Za-z]"+r("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=o(o(i+"|"+r(u,s,"[\\:]"))+"*"),l=o(o("25[0-5]")+"|"+o("2[0-4][0-9]")+"|"+o("1[0-9][0-9]")+"|"+o("[1-9][0-9]")+"|[0-9]"),f=o(l+"\\."+l+"\\."+l+"\\."+l),h=o(n+"{1,4}"),m=(o(o(h+"\\:"+h)+"|"+f),o(r(u,s,"[\\:]")+"+")),g=o("v"+n+"+\\."+r(u,s,"[\\:]")+"+"),d=o("\\["+o(m+"|"+g)+"\\]"),y=o(o(i+"|"+r(u,s))+"*"),v=o(d+"|"+f+"|"+y),C=o("[0-9]*"),S=o(o(c+"@")+"?"+v+o("\\:"+C)+"?"),E=o(i+"|"+r(u,s,"[\\:\\@]")),b=o(E+"*"),x=o(E+"+"),A=o(o(i+"|"+r(u,s,"[\\@]"))+"+"),F=o(o("\\/"+b)+"*"),P=o("\\/"+o(x+F)+"?"),O=o(A+F),M=o(x+F),R=o(""),w=(o(F+"|"+P+"|"+O+"|"+M+"|"+R),o(o(E+"|[\\/\\?]")+"*")),z=o(o(E+"|[\\/\\?]")+"*"),L=o(o("\\/\\/"+S+F)+"|"+P+"|"+M+"|"+R),k=o(p+"\\:"+L+o("\\?"+w)+"?"+o("\\#"+z)+"?"),q=o(o("\\/\\/"+S+F)+"|"+P+"|"+O+"|"+R),U=o(q+o("\\?"+w)+"?"+o("\\#"+z)+"?"),I=(o(k+"|"+U),o(p+"\\:"+L+o("\\?"+w)+"?"),"^("+p+")\\:"+o(o("\\/\\/("+o("("+c+")@")+"?("+v+")"+o("\\:("+C+")")+"?)")+"?("+F+"|"+P+"|"+M+"|"+R+")")+o("\\?("+w+")")+"?"+o("\\#("+z+")")+"?$"),G="^(){0}"+o(o("\\/\\/("+o("("+c+")@")+"?("+v+")"+o("\\:("+C+")")+"?)")+"?("+F+"|"+P+"|"+O+"|"+R+")")+o("\\?("+w+")")+"?"+o("\\#("+z+")")+"?$",j=(o(o("\\/\\/("+o("("+c+")@")+"?("+v+")"+o("\\:("+C+")")+"?)")+"?("+F+"|"+P+"|"+M+"|"+R+")"),o("\\?("+w+")"),o("\\#("+z+")"),o("("+c+")@"),o("\\:("+C+")"),new RegExp("("+I+")|("+G+")")),D=new RegExp(r("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),N=new RegExp(r("[^\\%\\:]",u,s),"g"),H=new RegExp(r("[^\\%]",u,s),"g"),$=new RegExp(r("[^\\%\\/\\:\\@]",u,s),"g"),B=new RegExp(r("[^\\%\\/\\@]",u,s),"g"),_=new RegExp(r("[^\\%]",u,s,"[\\:\\@\\/\\?]"),"g"),Z=_,J=new RegExp(r("[^]",u,s),"g"),T=new RegExp(u,"g"),K=(new RegExp(r("[^\\%]",u,a),"g"),new RegExp(i+"+","g")),Q=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i,V=/^\.\.?\//,W=/^\/\.(\/|$)/,X=/^\/\.\.(\/|$)/,Y=/^\/?(?:.|\n)*?(?=\/|$)/,ee=void 0==="".match(/(){0}/)[1],re=function(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()},te=function(e){for(var r,t,o="",n=0;n<e.length;)(r=parseInt(e.substr(n+1,2),16))<128?((t=String.fromCharCode(r)).match(T)?o+=t:o+=e.substr(n,3),n+=3):r>191&&r<224?(o+=e.substr(n,6),n+=6):(o+=e.substr(n,9),n+=9);return o},oe=function(e){for(var r,t,o,n="",i=0;i<e.length;)(r=parseInt(e.substr(i+1,2),16))<128?(n+=String.fromCharCode(r),i+=3):r>191&&r<224?(t=parseInt(e.substr(i+4,2),16),n+=String.fromCharCode((31&r)<<6|63&t),i+=6):(t=parseInt(e.substr(i+4,2),16),o=parseInt(e.substr(i+7,2),16),n+=String.fromCharCode((15&r)<<12|(63&t)<<6|63&o),i+=9);return n},ne=function(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()},ie=function(){this.errors=[]},se=t;return ie.prototype={scheme:void 0,userinfo:void 0,host:void 0,port:void 0,path:void 0,query:void 0,fragment:void 0,reference:void 0,errors:void 0},se.SCHEMES={},se.parse=function(e,r){var t,o,n=new ie;return e=e?e.toString():"","suffix"===(r=r||{}).reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e),(t=e.match(j))&&(t=t[1]?t.slice(1,10):t.slice(10,19)),t||(r.tolerant||n.errors.push("URI is not strictly valid."),t=e.match(Q)),t?(ee?(n.scheme=t[1],n.userinfo=t[3],n.host=t[4],n.port=parseInt(t[5],10),n.path=t[6]||"",n.query=t[7],n.fragment=t[8],isNaN(n.port)&&(n.port=t[5])):(n.scheme=t[1]||void 0,n.userinfo=-1!==e.indexOf("@")?t[3]:void 0,n.host=-1!==e.indexOf("//")?t[4]:void 0,n.port=parseInt(t[5],10),n.path=t[6]||"",n.query=-1!==e.indexOf("?")?t[7]:void 0,n.fragment=-1!==e.indexOf("#")?t[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?t[4]:void 0)),void 0===n.scheme&&void 0===n.userinfo&&void 0===n.host&&void 0===n.port&&void 0===n.path&&void 0===n.query?n.reference="same-document":void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri",r.reference&&"suffix"!==r.reference&&r.reference!==n.reference&&n.errors.push("URI is not a "+r.reference+" reference."),(o=se.SCHEMES[(r.scheme||n.scheme||"").toLowerCase()])&&o.parse&&o.parse(n,r)):n.errors.push("URI can not be parsed."),n},se._recomposeAuthority=function(e){var r=[];return void 0!==e.userinfo&&(r.push(e.userinfo.toString().replace(N,re)),r.push("@")),void 0!==e.host&&r.push(e.host.toString().toLowerCase().replace(H,re)),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0},se.removeDotSegments=function(e){for(var r,t=[];e.length;)e.match(V)?e=e.replace(V,""):e.match(W)?e=e.replace(W,"/"):e.match(X)?(e=e.replace(X,"/"),t.pop()):"."===e||".."===e?e="":(r=e.match(Y)[0],e=e.slice(r.length),t.push(r));return t.join("")},se.serialize=function(e,r){var t,o,n,i=[];return r=r||{},(t=se.SCHEMES[(r.scheme||e.scheme||"").toLowerCase()])&&t.serialize&&t.serialize(e,r),"suffix"!==r.reference&&e.scheme&&(i.push(e.scheme.toString().toLowerCase().replace(D,"")),i.push(":")),void 0!==(o=se._recomposeAuthority(e))&&("suffix"!==r.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path&&(n=se.removeDotSegments(e.path.toString().replace(/%2E/gi,".")),n=e.scheme?n.replace($,re):n.replace(B,re),void 0===o&&(n=n.replace(/^\/\//,"/%2F")),i.push(n)),void 0!==e.query&&(i.push("?"),i.push(e.query.toString().replace(_,re))),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment.toString().replace(Z,re))),i.join("").replace(K,te).replace(/%[0-9A-Fa-f]{2}/g,function(e){return e.toUpperCase()})},se.resolveComponents=function(e,r,t,o){var n=new ie;return o||(e=se.parse(se.serialize(e,t),t),r=se.parse(se.serialize(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(n.scheme=r.scheme,n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=se.removeDotSegments(r.path),n.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=se.removeDotSegments(r.path),n.query=r.query):(r.path?("/"===r.path.charAt(0)?n.path=se.removeDotSegments(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:n.path=r.path:n.path="/"+r.path,n.path=se.removeDotSegments(n.path)),n.query=r.query):(n.path=e.path,void 0!==r.query?n.query=r.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=r.fragment,n},se.resolve=function(e,r,t){return se.serialize(se.resolveComponents(se.parse(e,t),se.parse(r,t),t,!0),t)},se.normalize=function(e,r){return"string"==typeof e?e=se.serialize(se.parse(e,r),r):"object"===ne(e)&&(e=se.parse(se.serialize(e,r),r)),e},se.equal=function(e,r,t){return"string"==typeof e?e=se.serialize(se.parse(e,t),t):"object"===ne(e)&&(e=se.serialize(e,t)),"string"==typeof r?r=se.serialize(se.parse(r,t),t):"object"===ne(r)&&(r=se.serialize(r,t)),e===r},se.escapeComponent=function(e){return e&&e.toString().replace(J,re)},se.unescapeComponent=function(e){return e&&e.toString().replace(K,oe)},t.pctEncChar=re,t.pctDecChars=oe,t.Components=ie,t.URI=se,t.pctEncChar=re,t.pctDecChars=oe,t.Components=ie,t.URI={SCHEMES:se.SCHEMES,parse:se.parse,removeDotSegments:se.removeDotSegments,serialize:se.serialize,resolveComponents:se.resolveComponents,resolve:se.resolve,normalize:se.normalize,equal:se.equal,escapeComponent:se.escapeComponent,unescapeComponent:se.unescapeComponent},e("./schemes"),se}()},{"./schemes":4}]},{},[1]);
